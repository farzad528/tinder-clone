{"ast":null,"code":"var _regeneratorRuntime = require(\"C:\\\\Tinder\\\\tinder-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"C:\\\\Tinder\\\\tinder-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/asyncToGenerator\");\n\n/* global WebKitCSSMatrix */\nvar React = require('react');\n\nvar sleep = require('p-sleep');\n\nvar settings = {\n  snapBackDuration: 300,\n  maxTilt: 5,\n  bouncePower: 0.2,\n  swipeThreshold: 300 // px/s\n\n};\n\nvar getElementSize = function getElementSize(element) {\n  var elementStyles = window.getComputedStyle(element);\n  var widthString = elementStyles.getPropertyValue('width');\n  var width = Number(widthString.split('px')[0]);\n  var heightString = elementStyles.getPropertyValue('height');\n  var height = Number(heightString.split('px')[0]);\n  return {\n    x: width,\n    y: height\n  };\n};\n\nvar pythagoras = function pythagoras(x, y) {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n};\n\nvar animateOut = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(element, speed) {\n    var startPos, bodySize, diagonal, velocity, time, multiplier, translateString, rotateString;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            startPos = getTranslate(element);\n            bodySize = getElementSize(document.body);\n            diagonal = pythagoras(bodySize.x, bodySize.y);\n            velocity = pythagoras(speed.x, speed.y);\n            time = diagonal / velocity;\n            multiplier = diagonal / velocity;\n            translateString = translationString(speed.x * multiplier + startPos.x, -speed.y * multiplier + startPos.y);\n            rotateString = rotationString(getRotation(element));\n            element.style.transition = 'ease-out ' + time + 's';\n            element.style.transform = translateString + rotateString;\n            _context.next = 12;\n            return sleep(time * 1000);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function animateOut(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar animateBack = function animateBack(element) {\n  element.style.transition = settings.snapBackDuration + 'ms';\n  var startingPoint = getTranslate(element);\n  var translation = translationString(startingPoint.x * -settings.bouncePower, startingPoint.y * -settings.bouncePower);\n  var rotation = rotationString(getRotation(element) * -settings.bouncePower);\n  element.style.transform = translation + rotation;\n  setTimeout(function () {\n    element.style.transform = 'none';\n  }, settings.snapBackDuration * 0.75);\n  setTimeout(function () {\n    element.style.transition = '10ms';\n  }, settings.snapBackDuration);\n};\n\nvar getSwipeDirection = function getSwipeDirection(speed) {\n  if (Math.abs(speed.x) > Math.abs(speed.y)) {\n    return speed.x > 0 ? 'right' : 'left';\n  } else {\n    return speed.y > 0 ? 'up' : 'down';\n  }\n};\n\nvar calcSpeed = function calcSpeed(oldLocation, newLocation) {\n  var dx = newLocation.x - oldLocation.x;\n  var dy = oldLocation.y - newLocation.y;\n  var dt = (newLocation.time - oldLocation.time) / 1000;\n  return {\n    x: dx / dt,\n    y: dy / dt\n  };\n};\n\nvar translationString = function translationString(x, y) {\n  var translation = 'translate(' + x + 'px, ' + y + 'px)';\n  return translation;\n};\n\nvar rotationString = function rotationString(rot) {\n  var rotation = 'rotate(' + rot + 'deg)';\n  return rotation;\n};\n\nvar getTranslate = function getTranslate(element) {\n  var style = window.getComputedStyle(element);\n  var matrix = new WebKitCSSMatrix(style.webkitTransform);\n  var ans = {\n    x: matrix.m41,\n    y: matrix.m42\n  };\n  return ans;\n};\n\nvar getRotation = function getRotation(element) {\n  var style = window.getComputedStyle(element);\n  var matrix = new WebKitCSSMatrix(style.webkitTransform);\n  var ans = -Math.asin(matrix.m21) / (2 * Math.PI) * 360;\n  return ans;\n};\n\nvar dragableTouchmove = function dragableTouchmove(coordinates, element, offset, lastLocation) {\n  var pos = {\n    x: coordinates.x + offset.x,\n    y: coordinates.y + offset.y\n  };\n  var newLocation = {\n    x: pos.x,\n    y: pos.y,\n    time: new Date().getTime()\n  };\n  var translation = translationString(pos.x, pos.y);\n  var rotCalc = calcSpeed(lastLocation, newLocation).x / 1000;\n  var rotation = rotationString(rotCalc * settings.maxTilt);\n  element.style.transform = translation + rotation;\n  return newLocation;\n};\n\nvar touchCoordinatesFromEvent = function touchCoordinatesFromEvent(e) {\n  var touchLocation = e.targetTouches[0];\n  return {\n    x: touchLocation.clientX,\n    y: touchLocation.clientY\n  };\n};\n\nvar mouseCoordinatesFromEvent = function mouseCoordinatesFromEvent(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n};\n\nvar TinderCard = function TinderCard(_ref2) {\n  var _ref2$flickOnSwipe = _ref2.flickOnSwipe,\n      flickOnSwipe = _ref2$flickOnSwipe === void 0 ? true : _ref2$flickOnSwipe,\n      children = _ref2.children,\n      onSwipe = _ref2.onSwipe,\n      onCardLeftScreen = _ref2.onCardLeftScreen,\n      className = _ref2.className,\n      _ref2$preventSwipe = _ref2.preventSwipe,\n      preventSwipe = _ref2$preventSwipe === void 0 ? [] : _ref2$preventSwipe;\n  var swipeAlreadyReleased = React.useRef(false);\n  var handleSwipeReleased = React.useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(element, speed) {\n      var dir;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!swipeAlreadyReleased.current) {\n                _context2.next = 2;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 2:\n              swipeAlreadyReleased.current = true; // Check if this is a swipe\n\n              if (!(Math.abs(speed.x) > settings.swipeThreshold || Math.abs(speed.y) > settings.swipeThreshold)) {\n                _context2.next = 13;\n                break;\n              }\n\n              dir = getSwipeDirection(speed);\n              if (onSwipe) onSwipe(dir);\n\n              if (!flickOnSwipe) {\n                _context2.next = 13;\n                break;\n              }\n\n              if (preventSwipe.includes(dir)) {\n                _context2.next = 13;\n                break;\n              }\n\n              _context2.next = 10;\n              return animateOut(element, speed);\n\n            case 10:\n              element.style.display = 'none';\n              if (onCardLeftScreen) onCardLeftScreen(dir);\n              return _context2.abrupt(\"return\");\n\n            case 13:\n              // Card was not flicked away, animate back to start\n              animateBack(element);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [swipeAlreadyReleased, flickOnSwipe, onSwipe, onCardLeftScreen, preventSwipe]);\n  var handleSwipeStart = React.useCallback(function () {\n    swipeAlreadyReleased.current = false;\n  }, [swipeAlreadyReleased]);\n  var ref = React.useCallback(function (element) {\n    if (!element) {\n      return;\n    } // necesarry?\n\n\n    var offset = {\n      x: null,\n      y: null\n    };\n    var speed = {\n      x: 0,\n      y: 0\n    };\n    var lastLocation = {\n      x: 0,\n      y: 0,\n      time: new Date().getTime()\n    };\n    var mouseIsClicked = false;\n    element.addEventListener('touchstart', function (ev) {\n      ev.preventDefault();\n      handleSwipeStart();\n      offset = {\n        x: -touchCoordinatesFromEvent(ev).x,\n        y: -touchCoordinatesFromEvent(ev).y\n      };\n    });\n    element.addEventListener('mousedown', function (ev) {\n      ev.preventDefault();\n      mouseIsClicked = true;\n      handleSwipeStart();\n      offset = {\n        x: -mouseCoordinatesFromEvent(ev).x,\n        y: -mouseCoordinatesFromEvent(ev).y\n      };\n    });\n    element.addEventListener('touchmove', function (ev) {\n      ev.preventDefault();\n      var newLocation = dragableTouchmove(touchCoordinatesFromEvent(ev), element, offset, lastLocation);\n      speed = calcSpeed(lastLocation, newLocation);\n      lastLocation = newLocation;\n    });\n    element.addEventListener('mousemove', function (ev) {\n      ev.preventDefault();\n\n      if (mouseIsClicked) {\n        var newLocation = dragableTouchmove(mouseCoordinatesFromEvent(ev), element, offset, lastLocation);\n        speed = calcSpeed(lastLocation, newLocation);\n        lastLocation = newLocation;\n      }\n    });\n    element.addEventListener('touchend', function (ev) {\n      ev.preventDefault();\n      handleSwipeReleased(element, speed);\n    });\n    element.addEventListener('mouseup', function (ev) {\n      if (mouseIsClicked) {\n        ev.preventDefault();\n        mouseIsClicked = false;\n        handleSwipeReleased(element, speed);\n      }\n    });\n    element.addEventListener('mouseleave', function (ev) {\n      if (mouseIsClicked) {\n        ev.preventDefault();\n        mouseIsClicked = false;\n        handleSwipeReleased(element, speed);\n      }\n    });\n  }, [handleSwipeReleased, handleSwipeStart]);\n  return React.createElement('div', {\n    ref: ref,\n    className: className\n  }, children);\n};\n\nmodule.exports = TinderCard;","map":{"version":3,"sources":["C:/Tinder/tinder-clone/node_modules/react-tinder-card/index.js"],"names":["React","require","sleep","settings","snapBackDuration","maxTilt","bouncePower","swipeThreshold","getElementSize","element","elementStyles","window","getComputedStyle","widthString","getPropertyValue","width","Number","split","heightString","height","x","y","pythagoras","Math","sqrt","pow","animateOut","speed","startPos","getTranslate","bodySize","document","body","diagonal","velocity","time","multiplier","translateString","translationString","rotateString","rotationString","getRotation","style","transition","transform","animateBack","startingPoint","translation","rotation","setTimeout","getSwipeDirection","abs","calcSpeed","oldLocation","newLocation","dx","dy","dt","rot","matrix","WebKitCSSMatrix","webkitTransform","ans","m41","m42","asin","m21","PI","dragableTouchmove","coordinates","offset","lastLocation","pos","Date","getTime","rotCalc","touchCoordinatesFromEvent","e","touchLocation","targetTouches","clientX","clientY","mouseCoordinatesFromEvent","TinderCard","flickOnSwipe","children","onSwipe","onCardLeftScreen","className","preventSwipe","swipeAlreadyReleased","useRef","handleSwipeReleased","useCallback","current","dir","includes","display","handleSwipeStart","ref","mouseIsClicked","addEventListener","ev","preventDefault","createElement","module","exports"],"mappings":"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","sourcesContent":["/* global WebKitCSSMatrix */\n\nconst React = require('react')\nconst sleep = require('p-sleep')\n\nconst settings = {\n  snapBackDuration: 300,\n  maxTilt: 5,\n  bouncePower: 0.2,\n  swipeThreshold: 300 // px/s\n}\n\nconst getElementSize = (element) => {\n  const elementStyles = window.getComputedStyle(element)\n  const widthString = elementStyles.getPropertyValue('width')\n  const width = Number(widthString.split('px')[0])\n  const heightString = elementStyles.getPropertyValue('height')\n  const height = Number(heightString.split('px')[0])\n  return { x: width, y: height }\n}\n\nconst pythagoras = (x, y) => {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\n}\n\nconst animateOut = async (element, speed) => {\n  const startPos = getTranslate(element)\n  const bodySize = getElementSize(document.body)\n  const diagonal = pythagoras(bodySize.x, bodySize.y)\n\n  const velocity = pythagoras(speed.x, speed.y)\n  const time = diagonal / velocity\n  const multiplier = diagonal / velocity\n\n  const translateString = translationString(speed.x * multiplier + startPos.x, -speed.y * multiplier + startPos.y)\n  const rotateString = rotationString(getRotation(element))\n\n  element.style.transition = 'ease-out ' + time + 's'\n  element.style.transform = translateString + rotateString\n\n  await sleep(time * 1000)\n}\n\nconst animateBack = (element) => {\n  element.style.transition = settings.snapBackDuration + 'ms'\n  const startingPoint = getTranslate(element)\n  const translation = translationString(startingPoint.x * -settings.bouncePower, startingPoint.y * -settings.bouncePower)\n  const rotation = rotationString(getRotation(element) * -settings.bouncePower)\n  element.style.transform = translation + rotation\n\n  setTimeout(() => {\n    element.style.transform = 'none'\n  }, settings.snapBackDuration * 0.75)\n\n  setTimeout(() => {\n    element.style.transition = '10ms'\n  }, settings.snapBackDuration)\n}\n\nconst getSwipeDirection = (speed) => {\n  if (Math.abs(speed.x) > Math.abs(speed.y)) {\n    return (speed.x > 0) ? 'right' : 'left'\n  } else {\n    return (speed.y > 0) ? 'up' : 'down'\n  }\n}\n\nconst calcSpeed = (oldLocation, newLocation) => {\n  const dx = newLocation.x - oldLocation.x\n  const dy = oldLocation.y - newLocation.y\n  const dt = (newLocation.time - oldLocation.time) / 1000\n  return { x: dx / dt, y: dy / dt }\n}\n\nconst translationString = (x, y) => {\n  const translation = 'translate(' + x + 'px, ' + y + 'px)'\n  return translation\n}\n\nconst rotationString = (rot) => {\n  const rotation = 'rotate(' + rot + 'deg)'\n  return rotation\n}\n\nconst getTranslate = (element) => {\n  const style = window.getComputedStyle(element)\n  const matrix = new WebKitCSSMatrix(style.webkitTransform)\n  const ans = { x: matrix.m41, y: matrix.m42 }\n  return ans\n}\n\nconst getRotation = (element) => {\n  const style = window.getComputedStyle(element)\n  const matrix = new WebKitCSSMatrix(style.webkitTransform)\n  const ans = -Math.asin(matrix.m21) / (2 * Math.PI) * 360\n  return ans\n}\n\nconst dragableTouchmove = (coordinates, element, offset, lastLocation) => {\n  const pos = { x: coordinates.x + offset.x, y: coordinates.y + offset.y }\n  const newLocation = { x: pos.x, y: pos.y, time: new Date().getTime() }\n  const translation = translationString(pos.x, pos.y)\n  const rotCalc = calcSpeed(lastLocation, newLocation).x / 1000\n  const rotation = rotationString(rotCalc * settings.maxTilt)\n  element.style.transform = translation + rotation\n  return newLocation\n}\n\nconst touchCoordinatesFromEvent = (e) => {\n  const touchLocation = e.targetTouches[0]\n  return { x: touchLocation.clientX, y: touchLocation.clientY }\n}\n\nconst mouseCoordinatesFromEvent = (e) => {\n  return { x: e.clientX, y: e.clientY }\n}\n\nconst TinderCard = ({ flickOnSwipe = true, children, onSwipe, onCardLeftScreen, className, preventSwipe = [] }) => {\n  const swipeAlreadyReleased = React.useRef(false)\n\n  const handleSwipeReleased = React.useCallback(async (element, speed) => {\n    if (swipeAlreadyReleased.current) { return }\n    swipeAlreadyReleased.current = true\n\n    // Check if this is a swipe\n    if (Math.abs(speed.x) > settings.swipeThreshold || Math.abs(speed.y) > settings.swipeThreshold) {\n      const dir = getSwipeDirection(speed)\n\n      if (onSwipe) onSwipe(dir)\n\n      if (flickOnSwipe) {\n        if (!preventSwipe.includes(dir)) {\n          await animateOut(element, speed)\n          element.style.display = 'none'\n          if (onCardLeftScreen) onCardLeftScreen(dir)\n          return\n        }\n      }\n    }\n\n    // Card was not flicked away, animate back to start\n    animateBack(element)\n  }, [swipeAlreadyReleased, flickOnSwipe, onSwipe, onCardLeftScreen, preventSwipe])\n\n  const handleSwipeStart = React.useCallback(() => {\n    swipeAlreadyReleased.current = false\n  }, [swipeAlreadyReleased])\n\n  const ref = React.useCallback((element) => {\n    if (!element) { return } // necesarry?\n    let offset = { x: null, y: null }\n    let speed = { x: 0, y: 0 }\n    let lastLocation = { x: 0, y: 0, time: new Date().getTime() }\n    let mouseIsClicked = false\n\n    element.addEventListener(('touchstart'), (ev) => {\n      ev.preventDefault()\n      handleSwipeStart()\n      offset = { x: -touchCoordinatesFromEvent(ev).x, y: -touchCoordinatesFromEvent(ev).y }\n    })\n\n    element.addEventListener(('mousedown'), (ev) => {\n      ev.preventDefault()\n      mouseIsClicked = true\n      handleSwipeStart()\n      offset = { x: -mouseCoordinatesFromEvent(ev).x, y: -mouseCoordinatesFromEvent(ev).y }\n    })\n\n    element.addEventListener(('touchmove'), (ev) => {\n      ev.preventDefault()\n      const newLocation = dragableTouchmove(touchCoordinatesFromEvent(ev), element, offset, lastLocation)\n      speed = calcSpeed(lastLocation, newLocation)\n      lastLocation = newLocation\n    })\n\n    element.addEventListener(('mousemove'), (ev) => {\n      ev.preventDefault()\n      if (mouseIsClicked) {\n        const newLocation = dragableTouchmove(mouseCoordinatesFromEvent(ev), element, offset, lastLocation)\n        speed = calcSpeed(lastLocation, newLocation)\n        lastLocation = newLocation\n      }\n    })\n\n    element.addEventListener(('touchend'), (ev) => {\n      ev.preventDefault()\n      handleSwipeReleased(element, speed)\n    })\n\n    element.addEventListener(('mouseup'), (ev) => {\n      if (mouseIsClicked) {\n        ev.preventDefault()\n        mouseIsClicked = false\n        handleSwipeReleased(element, speed)\n      }\n    })\n\n    element.addEventListener(('mouseleave'), (ev) => {\n      if (mouseIsClicked) {\n        ev.preventDefault()\n        mouseIsClicked = false\n        handleSwipeReleased(element, speed)\n      }\n    })\n  }, [handleSwipeReleased, handleSwipeStart])\n\n  return (\n    React.createElement('div', { ref, className }, children)\n  )\n}\n\nmodule.exports = TinderCard\n"]},"metadata":{},"sourceType":"script"}